<nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
    <div class="container">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">Dating App</a>
            <ul class="navbar-nav me-auto mb-2 mb-md-0" *ngIf="currentUser$ | async"> <!--The async pipe here allows us to use obersavble data in our html file. This means that this observable subscription will automatically destroyed and we don't have to manually unsubscribe to it-->
                <li class="nav-item">
                    <a class="nav-link" href="#">Matches</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Lists</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#">Messages</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#" (click)="logout()">logout</a>
                </li>
            </ul>

            <div class="dropdown" *ngIf="currentUser$ | async" dropdown> 
                <a class="dropdown-toggle text-light" dropdownToggle>Welcome User</a>    
                <div class="dropdown-menu mt-3" *dropdownMenu>
                    <a class="dropdown-item">Edit Profile</a>
                    <div class="dropdown-divider"></div>
                    <a class="dropdown-item" (click)="logout()">Logout</a>
                </div>
            </div>
            <form *ngIf="!currentUser$ | async" #loginForm="ngForm" class="d-flex" (ngSubmit)="login()" autocomplete="off"> <!--The #loginForm is a local reference. The ngForn turns this into an angular form-->
                <input
                  name="username"
                  [(ngModel)]="model.username" 
                  class="form-control me-2"
                  type="search"
                  placeholder="Username">
                <input
                  name="password"
                  [(ngModel)]="model.password"
                  class="form-control me-2"
                  type="password"
                  placeholder="Password">
                <button class="btn btn-outline-success" type="submit">Login</button> <!--As this button is of type submit, it calls the ngSubmit function will be called and therefore out login() method will be called-->
            </form>
        </div>
    </div>
</nav>